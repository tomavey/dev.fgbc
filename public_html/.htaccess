# this file can be deleted if you're not planning on using URL rewriting with Apache.

# you can add your own files and folders that should be excluded from URL rewriting by adding them to the "RewriteCond" line below.
# please read the online documentation on http://cfwheels.org for more information about URL rewriting.

# UNCOMMENT ALL LINES BELOW THIS ONE TO TURN ON THE URL REWRITING RULES

#Options +FollowSymLinks
#RewriteEngine On
#RewriteCond %{REQUEST_URI} !^.*/(flex2gateway|partials|js|jrunscripts|cfide|cfformgateway|cffileservlet|railo-context|files|images|javascripts|miscellaneous|stylesheets|robots.txt|favicon.ico|sitemap.xml|rewrite.cfm)($|/.*$) [NC]
#RewriteRule ^(.*)$ ./rewrite.cfm/$1 [NS,L]

#Options +FollowSymLinks
RewriteEngine On

#to require https://
RewriteCond %{HTTP_HOST} charisfellowship\.us [NC]
RewriteCond %{SERVER_PORT} 80
RewriteRule ^(.*)$ https://charisfellowship.us/$1 [R,L]

RewriteCond %{REQUEST_URI} ^.*/index.cfm/(.*)$ [NC]
RewriteRule ^.*/index.cfm/(.*)$ ./rewrite.cfm/$1 [NS,L]
RewriteCond %{REQUEST_URI} !^.*/(flex2gateway|jrunscripts|cfide|cfformgateway|cffileservlet|railo-context|lucee|files|images|javascripts|miscellaneous|stylesheets|assets|robots.txt|favicon.ico|sitemap.xml|rewrite.cfm)($|/.*$) [NC]
RewriteRule ^(.*)$ ./rewrite.cfm/$1 [NS,L]


Header set Access-Control-Allow-Origin *
Header always set Access-Control-Allow-Methods "POST, GET, OPTIONS, DELETE, PUT"
Header always set Access-Control-Allow-Headers "*"